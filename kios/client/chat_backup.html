<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp Real - Chat</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="chat-page">
    <!-- Contenedor principal del chat -->
    <div class="chat-container">
        
        <!-- SIDEBAR: Lista de conversaciones -->
        <div class="sidebar">
            <!-- Header del sidebar -->
            <div class="sidebar-header">
                <div class="user-info">
                    <span class="user-avatar" id="currentUserAvatar">ğŸ‘¤</span>
                    <span class="user-name" id="currentUserName">Usuario</span>
                </div>
                <div class="header-actions">
                    <button class="icon-btn" id="newGroupBtn" title="Nuevo Grupo">
                        ğŸ‘¥
                    </button>
                    <button class="icon-btn" id="logoutBtn" title="Cerrar SesiÃ³n">
                        ğŸšª
                    </button>
                </div>
            </div>

            <!-- Barra de bÃºsqueda -->
            <div class="search-bar">
                <div class="search-wrapper">
                    <span class="search-icon">ğŸ”</span>
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="Buscar o iniciar un chat"
                        autocomplete="off"
                    >
                </div>
            </div>

            <!-- PestaÃ±as -->
            <div class="tabs-container">
                <button class="tab-btn active" data-tab="chats">Chats</button>
                <button class="tab-btn" data-tab="contacts">Contactos</button>
            </div>

            <!-- Lista de chats -->
            <div class="chats-list tab-content active" id="chatsList" data-content="chats">
                <!-- Los chats se cargarÃ¡n dinÃ¡micamente aquÃ­ -->
                <div class="empty-state">
                    <p>No tienes conversaciones activas</p>
                    <p style="font-size: 13px; color: var(--text-secondary);">Ve a Contactos para iniciar un chat</p>
                </div>
            </div>

            <!-- Lista de contactos -->
            <div class="contacts-list tab-content" id="contactsList" data-content="contacts">
                <div class="contacts-header">
                    <h3>Todos los Contactos</h3>
                </div>
                <div id="allContactsList">
                    <!-- Los contactos se cargarÃ¡n aquÃ­ -->
                </div>
            </div>
        </div>

        <!-- CHAT AREA: Ãrea de conversaciÃ³n -->
        <div class="chat-area">
            <!-- Estado inicial: sin chat seleccionado -->
            <div class="no-chat-selected" id="noChatSelected">
                <div class="no-chat-content">
                    <div class="no-chat-icon">ğŸ’¬</div>
                    <h2>WhatsApp Real</h2>
                    <p>Selecciona un chat para comenzar a conversar</p>
                    <div class="features">
                        <div class="feature">
                            <span>ğŸ”’</span>
                            <p>Mensajes cifrados</p>
                        </div>
                        <div class="feature">
                            <span>âš¡</span>
                            <p>Tiempo real</p>
                        </div>
                        <div class="feature">
                            <span>ğŸ‘¥</span>
                            <p>Chats grupales</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat activo -->
            <div class="active-chat" id="activeChat" style="display: none;">
                <!-- Header del chat -->
                <div class="chat-header">
                    <div class="chat-info">
                        <span class="chat-avatar" id="chatAvatar">ğŸ‘¤</span>
                        <div class="chat-details">
                            <h3 id="chatName">Usuario</h3>
                            <p class="chat-status" id="chatStatus">en lÃ­nea</p>
                        </div>
                    </div>
                    <div class="chat-actions">
                        <button class="icon-btn" title="Buscar">ğŸ”</button>
                        <button class="icon-btn" title="MÃ¡s opciones">â‹®</button>
                    </div>
                </div>

                <!-- Mensajes -->
                <div class="messages-container" id="messagesContainer">
                    <!-- Los mensajes se cargarÃ¡n aquÃ­ -->
                </div>

                <!-- Indicador de "escribiendo..." -->
                <div class="typing-indicator" id="typingIndicator" style="display: none;">
                    <span class="typing-text">escribiendo</span>
                    <span class="typing-dots">
                        <span>.</span><span>.</span><span>.</span>
                    </span>
                </div>

                <!-- Input de mensaje -->
                <div class="message-input-container">
                    <div class="message-input-wrapper">
                        <button class="emoji-button" id="emojiButton">ğŸ˜Š</button>
                        <input 
                            type="text" 
                            id="messageInput" 
                            placeholder="Escribe un mensaje"
                            autocomplete="off"
                        >
                    </div>
                    <button class="btn-send" id="sendBtn">
                        â¤
                    </button>
                </div>

                <!-- Selector de emojis -->
                <div class="emoji-picker" id="emojiPicker">
                    <div class="emoji-picker-header">
                        <span class="emoji-picker-title">Selecciona un emoji</span>
                    </div>
                    <input type="text" class="emoji-search" id="emojiSearch" placeholder="Buscar emoji...">
                    <div id="emojiCategories">
                        <div class="emoji-category">
                            <div class="emoji-category-title">ğŸ˜Š Caritas</div>
                            <div class="emoji-grid">
                                <span class="emoji-item" data-emoji="ğŸ˜€">ğŸ˜€</span>
                                <span class="emoji-item" data-emoji="ğŸ˜ƒ">ğŸ˜ƒ</span>
                                <span class="emoji-item" data-emoji="ğŸ˜„">ğŸ˜„</span>
                                <span class="emoji-item" data-emoji="ğŸ˜">ğŸ˜</span>
                                <span class="emoji-item" data-emoji="ğŸ˜†">ğŸ˜†</span>
                                <span class="emoji-item" data-emoji="ğŸ˜…">ğŸ˜…</span>
                                <span class="emoji-item" data-emoji="ğŸ¤£">ğŸ¤£</span>
                                <span class="emoji-item" data-emoji="ğŸ˜‚">ğŸ˜‚</span>
                                <span class="emoji-item" data-emoji="ğŸ™‚">ğŸ™‚</span>
                                <span class="emoji-item" data-emoji="ğŸ™ƒ">ğŸ™ƒ</span>
                                <span class="emoji-item" data-emoji="ğŸ˜‰">ğŸ˜‰</span>
                                <span class="emoji-item" data-emoji="ğŸ˜Š">ğŸ˜Š</span>
                                <span class="emoji-item" data-emoji="ğŸ˜‡">ğŸ˜‡</span>
                                <span class="emoji-item" data-emoji="ğŸ¥°">ğŸ¥°</span>
                                <span class="emoji-item" data-emoji="ğŸ˜">ğŸ˜</span>
                                <span class="emoji-item" data-emoji="ğŸ¤©">ğŸ¤©</span>
                                <span class="emoji-item" data-emoji="ğŸ˜˜">ğŸ˜˜</span>
                                <span class="emoji-item" data-emoji="ğŸ˜—">ğŸ˜—</span>
                                <span class="emoji-item" data-emoji="ğŸ˜š">ğŸ˜š</span>
                                <span class="emoji-item" data-emoji="ğŸ˜™">ğŸ˜™</span>
                                <span class="emoji-item" data-emoji="ğŸ¥²">ğŸ¥²</span>
                                <span class="emoji-item" data-emoji="ğŸ˜‹">ğŸ˜‹</span>
                                <span class="emoji-item" data-emoji="ğŸ˜›">ğŸ˜›</span>
                                <span class="emoji-item" data-emoji="ğŸ˜œ">ğŸ˜œ</span>
                            </div>
                        </div>
                        <div class="emoji-category">
                            <div class="emoji-category-title">â¤ï¸ Corazones</div>
                            <div class="emoji-grid">
                                <span class="emoji-item" data-emoji="â¤ï¸">â¤ï¸</span>
                                <span class="emoji-item" data-emoji="ğŸ§¡">ğŸ§¡</span>
                                <span class="emoji-item" data-emoji="ğŸ’›">ğŸ’›</span>
                                <span class="emoji-item" data-emoji="ğŸ’š">ğŸ’š</span>
                                <span class="emoji-item" data-emoji="ğŸ’™">ğŸ’™</span>
                                <span class="emoji-item" data-emoji="ğŸ’œ">ğŸ’œ</span>
                                <span class="emoji-item" data-emoji="ğŸ–¤">ğŸ–¤</span>
                                <span class="emoji-item" data-emoji="ğŸ¤">ğŸ¤</span>
                                <span class="emoji-item" data-emoji="ğŸ¤">ğŸ¤</span>
                                <span class="emoji-item" data-emoji="ğŸ’”">ğŸ’”</span>
                                <span class="emoji-item" data-emoji="â¤ï¸â€ğŸ”¥">â¤ï¸â€ğŸ”¥</span>
                                <span class="emoji-item" data-emoji="ğŸ’•">ğŸ’•</span>
                                <span class="emoji-item" data-emoji="ğŸ’">ğŸ’</span>
                                <span class="emoji-item" data-emoji="ğŸ’“">ğŸ’“</span>
                                <span class="emoji-item" data-emoji="ğŸ’—">ğŸ’—</span>
                                <span class="emoji-item" data-emoji="ğŸ’–">ğŸ’–</span>
                            </div>
                        </div>
                        <div class="emoji-category">
                            <div class="emoji-category-title">ğŸ‘ Gestos</div>
                            <div class="emoji-grid">
                                <span class="emoji-item" data-emoji="ğŸ‘">ğŸ‘</span>
                                <span class="emoji-item" data-emoji="ğŸ‘">ğŸ‘</span>
                                <span class="emoji-item" data-emoji="ğŸ‘Œ">ğŸ‘Œ</span>
                                <span class="emoji-item" data-emoji="âœŒï¸">âœŒï¸</span>
                                <span class="emoji-item" data-emoji="ğŸ¤">ğŸ¤</span>
                                <span class="emoji-item" data-emoji="ğŸ¤Ÿ">ğŸ¤Ÿ</span>
                                <span class="emoji-item" data-emoji="ğŸ¤˜">ğŸ¤˜</span>
                                <span class="emoji-item" data-emoji="ğŸ¤™">ğŸ¤™</span>
                                <span class="emoji-item" data-emoji="ğŸ‘ˆ">ğŸ‘ˆ</span>
                                <span class="emoji-item" data-emoji="ğŸ‘‰">ğŸ‘‰</span>
                                <span class="emoji-item" data-emoji="ğŸ‘†">ğŸ‘†</span>
                                <span class="emoji-item" data-emoji="ğŸ‘‡">ğŸ‘‡</span>
                                <span class="emoji-item" data-emoji="â˜ï¸">â˜ï¸</span>
                                <span class="emoji-item" data-emoji="ğŸ‘‹">ğŸ‘‹</span>
                                <span class="emoji-item" data-emoji="ğŸ¤š">ğŸ¤š</span>
                                <span class="emoji-item" data-emoji="ğŸ–ï¸">ğŸ–ï¸</span>
                                <span class="emoji-item" data-emoji="âœ‹">âœ‹</span>
                                <span class="emoji-item" data-emoji="ğŸ––">ğŸ––</span>
                                <span class="emoji-item" data-emoji="ğŸ‘">ğŸ‘</span>
                                <span class="emoji-item" data-emoji="ğŸ™Œ">ğŸ™Œ</span>
                                <span class="emoji-item" data-emoji="ğŸ¤²">ğŸ¤²</span>
                                <span class="emoji-item" data-emoji="ğŸ¤">ğŸ¤</span>
                                <span class="emoji-item" data-emoji="ğŸ™">ğŸ™</span>
                                <span class="emoji-item" data-emoji="ğŸ’ª">ğŸ’ª</span>
                            </div>
                        </div>
                        <div class="emoji-category">
                            <div class="emoji-category-title">ğŸ‰ Objetos</div>
                            <div class="emoji-grid">
                                <span class="emoji-item" data-emoji="ğŸ‰">ğŸ‰</span>
                                <span class="emoji-item" data-emoji="ğŸŠ">ğŸŠ</span>
                                <span class="emoji-item" data-emoji="ğŸˆ">ğŸˆ</span>
                                <span class="emoji-item" data-emoji="ğŸ">ğŸ</span>
                                <span class="emoji-item" data-emoji="ğŸ†">ğŸ†</span>
                                <span class="emoji-item" data-emoji="ğŸ¥‡">ğŸ¥‡</span>
                                <span class="emoji-item" data-emoji="â­">â­</span>
                                <span class="emoji-item" data-emoji="ğŸŒŸ">ğŸŒŸ</span>
                                <span class="emoji-item" data-emoji="âœ¨">âœ¨</span>
                                <span class="emoji-item" data-emoji="ğŸ’«">ğŸ’«</span>
                                <span class="emoji-item" data-emoji="ğŸ”¥">ğŸ”¥</span>
                                <span class="emoji-item" data-emoji="ğŸ’¯">ğŸ’¯</span>
                                <span class="emoji-item" data-emoji="âœ…">âœ…</span>
                                <span class="emoji-item" data-emoji="âŒ">âŒ</span>
                                <span class="emoji-item" data-emoji="âš¡">âš¡</span>
                                <span class="emoji-item" data-emoji="ğŸ’¥">ğŸ’¥</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para crear grupo -->
    <div class="modal" id="groupModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Crear Grupo Nuevo</h2>
                <button class="close-btn" id="closeGroupModal">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="groupName">Nombre del Grupo</label>
                    <input 
                        type="text" 
                        id="groupName" 
                        placeholder="Ej: Amigos, Trabajo, Familia"
                        maxlength="30"
                    >
                </div>
                <div class="form-group">
                    <label>Seleccionar Miembros</label>
                    <div class="members-list" id="membersList">
                        <!-- Lista de usuarios disponibles -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-cancel" id="cancelGroupBtn">Cancelar</button>
                <button class="btn-create" id="createGroupBtn">Crear Grupo</button>
            </div>
        </div>
    </div>

    <!-- Socket.io client -->
    <script src="/socket.io/socket.io.js"></script>
    
    <!-- Script principal -->
    <script src="main.js"></script>
</body>
</html>
